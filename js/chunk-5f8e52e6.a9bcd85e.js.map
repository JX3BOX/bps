{"version":3,"sources":["webpack:///./src/views/Raw.vue?f9a0","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/Raw.vue?965c","webpack:///./src/service/raw.js","webpack:///src/views/Raw.vue","webpack:///./src/views/Raw.vue?a5d7","webpack:///./src/views/Raw.vue"],"names":["$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","on","changeKungfu","model","callback","$$v","kungfuid","_l","kungfu","key","_f","data","o","i","_v","_s","SkillID","IconID","Name","SkillName","_e","Desc","Level","Remark","HelpDesc","SimpleDesc","SpecialDesc","staticRenderFns","getSkills","params","$node","get","component"],"mappings":"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","file":"js/chunk-5f8e52e6.a9bcd85e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Raw.vue?vue&type=style&index=0&lang=less&\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"v-raw\"},[_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.changeKungfu},model:{value:(_vm.kungfuid),callback:function ($$v) {_vm.kungfuid=$$v},expression:\"kungfuid\"}},[_vm._l((_vm.kungfus),function(kungfu){return _c('el-tab-pane',{key:kungfu,attrs:{\"label\":_vm._f(\"showKungfuName\")(kungfu),\"name\":kungfu}})}),_c('el-tab-pane',{key:\"pasv\",attrs:{\"label\":\"心法被动\",\"name\":\"pasv\"}})],2),(_vm.data.length)?_c('ul',{staticClass:\"m-resource-list\"},_vm._l((_vm.data),function(o,i){return _c('li',{key:i,staticClass:\"u-item\"},[_c('span',{staticClass:\"u-id\"},[_vm._v(\"ID:\"+_vm._s(o.SkillID))]),_c('img',{staticClass:\"u-pic\",attrs:{\"title\":'IconID:' + o.IconID,\"src\":_vm._f(\"iconURL\")(o.IconID)}}),_c('div',{staticClass:\"u-primary\"},[_c('a',{staticClass:\"u-name\",attrs:{\"href\":_vm._f(\"skillLink\")(o.SkillID),\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(o.Name)+\" \"),(o.SkillName)?_c('em',[_vm._v(\"(\"+_vm._s(o.SkillName)+\")\")]):_vm._e()]),_c('span',{staticClass:\"u-content\"},[_vm._v(_vm._s(_vm._f(\"filterRaw\")(o.Desc)))]),_c('div',{staticClass:\"u-remarks\"},[_c('span',{staticClass:\"u-remark\"},[_vm._v(\"Level : \"+_vm._s(o.Level))]),_c('span',{staticClass:\"u-remark\"},[_vm._v(\"Remark : \"+_vm._s(o.Remark))]),(o.HelpDesc)?_c('span',{staticClass:\"u-remark\"},[_vm._v(\"HelpDesc : \"+_vm._s(o.HelpDesc))]):_vm._e(),(o.SimpleDesc)?_c('span',{staticClass:\"u-remark\"},[_vm._v(\"SimpleDesc : \"+_vm._s(o.SimpleDesc))]):_vm._e(),(o.SpecialDesc)?_c('span',{staticClass:\"u-remark\"},[_vm._v(\"SpecialDesc : \"+_vm._s(o.SpecialDesc))]):_vm._e()])])])}),0):_c('el-alert',{staticClass:\"m-archive-null\",attrs:{\"title\":\"没有找到相关条目\",\"type\":\"info\",\"center\":\"\",\"show-icon\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { $node } from \"@jx3box/jx3box-common/js/https\";\n// const __node = \"http://localhost:7002/\";\n// const API = __node + 'skill/school/'\n// function getSchoolSkills(school,query) {\n//     return axios\n//         .get(API + school,{\n//             params : query\n//         })\n//         .catch((err) => {\n//             console.log(err);\n//         });\n// }\n\nfunction getSkills(params) {\n    return $node().get(\"/skills\", {\n        params: params\n    });\n}\n\nfunction getSkill(id) {\n    return $node().get(`/skill/id/${id}`);\n}\n\nexport { getSkills, getSkill };\n","<template>\n    <div class=\"v-raw\" v-loading=\"loading\">\n        <el-tabs v-model=\"kungfuid\" type=\"card\" @tab-click=\"changeKungfu\">\n            <el-tab-pane\n                :label=\"kungfu | showKungfuName\"\n                :name=\"kungfu\"\n                v-for=\"kungfu in kungfus\"\n                :key=\"kungfu\"\n            ></el-tab-pane>\n            <el-tab-pane label=\"心法被动\" name=\"pasv\" key=\"pasv\"></el-tab-pane>\n        </el-tabs>\n\n        <!-- 搜索 -->\n        <!-- <div class=\"m-raw-search m-archive-search\">\n            <el-input\n                placeholder=\"搜索关键词\"\n                v-model=\"search\"\n                class=\"input-with-select\"\n                @change=\"loadSkills\"\n            >\n                <template slot=\"prepend\">技能名</template>\n                <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\n            </el-input>\n        </div>-->\n\n        <ul class=\"m-resource-list\" v-if=\"data.length\">\n            <li v-for=\"(o, i) in data\" class=\"u-item\" :key=\"i\">\n                <span class=\"u-id\">ID:{{ o.SkillID }}</span>\n                <img class=\"u-pic\" :title=\"'IconID:' + o.IconID\" :src=\"o.IconID | iconURL\" />\n                <div class=\"u-primary\">\n                    <a class=\"u-name\" :href=\"o.SkillID | skillLink\" target=\"_blank\">\n                        {{ o.Name }}\n                        <em v-if=\"o.SkillName\">({{ o.SkillName }})</em>\n                    </a>\n                    <span class=\"u-content\">{{ o.Desc | filterRaw }}</span>\n                    <div class=\"u-remarks\">\n                        <span class=\"u-remark\">Level : {{ o.Level }}</span>\n                        <span class=\"u-remark\">Remark : {{ o.Remark }}</span>\n                        <span v-if=\"o.HelpDesc\" class=\"u-remark\">HelpDesc : {{ o.HelpDesc }}</span>\n                        <span v-if=\"o.SimpleDesc\" class=\"u-remark\">SimpleDesc : {{ o.SimpleDesc }}</span>\n                        <span\n                            v-if=\"o.SpecialDesc\"\n                            class=\"u-remark\"\n                        >SpecialDesc : {{ o.SpecialDesc }}</span>\n                    </div>\n                </div>\n            </li>\n        </ul>\n        <el-alert v-else class=\"m-archive-null\" title=\"没有找到相关条目\" type=\"info\" center show-icon></el-alert>\n    </div>\n</template>\n\n<script>\nimport xfmap from \"@jx3box/jx3box-data/data/xf/xf.json\";\nimport { getSkills } from \"../service/raw\";\nimport { __iconPath, __ossRoot } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { getLink } from \"@jx3box/jx3box-common/js/utils\";\nimport kungfumap_std from \"@/assets/data/kungfu_std.json\";\nimport kungfumap_origin from \"@/assets/data/kungfu_origin.json\";\nimport pasvmap from \"@/assets/data/pasv.json\";\nimport kungfus from \"@/assets/data/kungfuid.json\";\nexport default {\n    name: \"Raw\",\n    props: [],\n    data: function () {\n        return {\n            data: [],\n            loading: false,\n\n            kungfuid: \"\",\n            search: \"\",\n        };\n    },\n    computed: {\n        subtype: function () {\n            return this.$route.query.subtype || \"通用\";\n        },\n        mountid: function () {\n            return xfmap[this.subtype]?.['id'] || \"0\";\n        },\n        kungfus: function () {\n            return this.kungfumap[this.mountid][\"kungfus\"];\n        },\n        skill_ids: function () {\n            return this.kungfumap[this.mountid][\"skills\"][this.kungfuid];\n        },\n        pasv_skills: function () {\n            return pasvmap[this.subtype][this.client];\n        },\n        ids: function () {\n            return this.kungfuid == \"pasv\"\n                ? this.pasv_skills.join(\",\")\n                : this.skill_ids.join(\",\");\n        },\n        client: function () {\n            return this.$store.state.client || \"std\";\n        },\n        params: function () {\n            return {\n                ids: this.ids,\n                client: this.client,\n            };\n        },\n        kungfumap : function (){\n            return this.client == 'origin' ? kungfumap_origin : kungfumap_std\n        }\n    },\n    methods: {\n        loadSkills: function () {\n            this.loading = true;\n            getSkills(this.params)\n                .then((res) => {\n                    let data = res.data || [];\n                    this.data = this.removeLowLevelSkills(data);\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        changeKungfu: function () {},\n        removeLowLevelSkills: function (data) {\n            let arr = [];\n            let _data = [];\n            // 只保留最高等级\n            data.forEach((item) => {\n                if (!arr.includes(item.SkillID)) {\n                    arr.push(item.SkillID);\n                    _data.push(item);\n                } else {\n                    let i = arr.indexOf(item.SkillID);\n                    if (~~item.Level > ~~_data[i].Level) {\n                        _data[i] = item;\n                    }\n                }\n            });\n            return _data;\n        },\n    },\n    filters: {\n        filterRaw: function (str) {\n            str = str && str.replace(/\\\\n/g, \"\\n\");\n            str = str && str.replace(/(\\<TALENT.*?\\>)/g, \"\\n$1\");\n            str = str && str.replace(/(\\<EnchantID.*?\\>)/g, \"\\n$1\");\n            return str;\n        },\n        iconURL: function (id) {\n            return __iconPath + \"icon/\" + id + \".png\";\n        },\n        skillLink: function (id) {\n            return getLink(\"skill\", id);\n        },\n        showKungfuName: function (val) {\n            return kungfus[val];\n        },\n    },\n    watch: {\n        subtype: {\n            immediate: true,\n            handler: function () {\n                this.kungfuid = this.kungfus[0];\n            },\n        },\n        kungfuid: {\n            immediate: true,\n            handler: function (val) {\n                this.loadSkills();\n            },\n        },\n    },\n    components: {},\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/raw.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Raw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Raw.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Raw.vue?vue&type=template&id=7b9d4ffd&\"\nimport script from \"./Raw.vue?vue&type=script&lang=js&\"\nexport * from \"./Raw.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Raw.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}