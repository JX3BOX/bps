(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-685f54ab"],{"0481f":function(t,e,n){"use strict";var a=n("23e7"),i=n("a2bf"),r=n("7b0b"),s=n("07fa"),l=n("5926"),u=n("65f0");a({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=r(this),n=s(e),a=u(e,0);return a.length=i(a,e,e,n,0,void 0===t?1:l(t)),a}})},"07ac":function(t,e,n){"use strict";var a=n("23e7"),i=n("6f53").values;a({target:"Object",stat:!0},{values:function(t){return i(t)}})},"13d5":function(t,e,n){"use strict";var a=n("23e7"),i=n("d58f").left,r=n("a640"),s=n("1212"),l=n("9adc"),u=!l&&s>79&&s<83,c=u||!r("reduce");a({target:"Array",proto:!0,forced:c},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},4069:function(t,e,n){"use strict";var a=n("44d2");a("flat")},4397:function(t,e,n){},5809:function(t,e,n){"use strict";n("4397")},"6f53":function(t,e,n){"use strict";var a=n("83ab"),i=n("d039"),r=n("e330"),s=n("e163"),l=n("df75"),u=n("fc6a"),c=n("d1e7").f,o=r(c),f=r([].push),d=a&&i((function(){var t=Object.create(null);return t[2]=2,!o(t,2)})),p=function(t){return function(e){var n,i=u(e),r=l(i),c=d&&null===s(i),p=r.length,v=0,h=[];while(p>v)n=r[v++],a&&!(c?n in i:o(i,n))||f(h,t?[n,i[n]]:i[n]);return h}};t.exports={entries:p(!0),values:p(!1)}},"793d":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[e("Header"),e("Breadcrumb",{attrs:{name:"职业专栏",slug:"bps",root:"/bps",publishEnable:!1,adminEnable:!1,feedbackEnable:!0,crumbEnable:!0},scopedSlots:t._u([{key:"logo",fn:function(){return[e("img",{staticClass:"u-breadcrumb-logo",attrs:{"svg-inline":"",src:t.logo,alt:""}})]},proxy:!0}])},[e("Info")],1),e("LeftSidebar",[e("Nav",{staticClass:"m-nav"})],1),e("Main",{attrs:{withoutRight:!0}},[e("div",{staticClass:"m-main"},[e("tabs"),t._t("default")],2),e("Footer")],1)],1)},i=[],r=n("7748"),s=n("a078"),l=n("107b"),u=n("65c2"),c={name:"App",props:[],data:function(){return{logo:u["__cdn"]+"logo/logo-light/bps.svg"}},methods:{},components:{Info:r["a"],Nav:s["a"],tabs:l["a"]}},o=c,f=(n("f945"),n("2877")),d=Object(f["a"])(o,a,i,!1,null,null,null);e["a"]=d.exports},9485:function(t,e,n){"use strict";var a=n("23e7"),i=n("2266"),r=n("59ed"),s=n("825a"),l=n("46c4"),u=TypeError;a({target:"Iterator",proto:!0,real:!0},{reduce:function(t){s(this),r(t);var e=l(this),n=arguments.length<2,a=n?void 0:arguments[1],c=0;if(i(e,(function(e){n?(n=!1,a=e):a=t(a,e,c),c++}),{IS_RECORD:!0}),n)throw new u("Reduce of empty iterator with no initial value");return a}})},"9d4a":function(t,e,n){"use strict";n("9485")},a2bf:function(t,e,n){"use strict";var a=n("e8b5"),i=n("07fa"),r=n("3511"),s=n("0366"),l=function(t,e,n,u,c,o,f,d){var p,v,h=c,b=0,m=!!f&&s(f,d);while(b<u)b in n&&(p=m?m(n[b],b,e):n[b],o>0&&a(p)?(v=i(p),h=l(t,e,p,v,h,o-1)-1):(r(h+1),t[h]=p),h++),b++;return h};t.exports=l},b746:function(t,e,n){},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("d9e2"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("06c5");function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(a["a"])(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){u=!0,s=t},f:function(){try{l||null==n["return"]||n["return"]()}finally{if(u)throw s}}}}},d58f:function(t,e,n){"use strict";var a=n("59ed"),i=n("7b0b"),r=n("44ad"),s=n("07fa"),l=TypeError,u="Reduce of empty array with no initial value",c=function(t){return function(e,n,c,o){var f=i(e),d=r(f),p=s(f);if(a(n),0===p&&c<2)throw new l(u);var v=t?p-1:0,h=t?-1:1;if(c<2)while(1){if(v in d){o=d[v],v+=h;break}if(v+=h,t?v<0:p<=v)throw new l(u)}for(;t?v>=0:p>v;v+=h)v in d&&(o=n(o,d[v],v,f));return o}};t.exports={left:c(!1),right:c(!0)}},d978:function(t,e,n){"use strict";n.r(e);n("caad");var a=function(){var t,e=this,n=e._self._c;return n("AppLayout",[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-raw"},[n("div",{staticClass:"m-header"},["std"==e.client?n("el-radio-group",{model:{value:e.platform,callback:function(t){e.platform=t},expression:"platform"}},[n("el-radio-button",{attrs:{label:"std"}},[e._v("旗舰")]),n("el-radio-button",{attrs:{label:"wujie"}},[e._v("无界")])],1):e._e(),n("el-tabs",{attrs:{type:"card"},model:{value:e.kungfuid,callback:function(t){e.kungfuid=t},expression:"kungfuid"}},[~~e.mountid?n("el-tab-pane",{key:"pasv",attrs:{label:"心法被动",name:"pasv"}}):e._e(),e._l(e.kungfus,(function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t,name:t}})})),~~e.mountid?["std"===e.client?n("el-tab-pane",{key:"talent",attrs:{label:"奇穴",name:"talent"}}):e._e(),"origin"===e.client?n("el-tab-pane",{key:"talent2",attrs:{label:"镇派",name:"talent2"}}):e._e(),null!==(t=e.panel.zhenfa)&&void 0!==t&&t.length?n("el-tab-pane",{key:"zhenfa",attrs:{label:"阵法",name:"zhenfa"}}):e._e()]:e._e()],2)],1),e.skills&&e.skills.length?n("ul",{staticClass:"m-resource-list"},[["talent","talent2"].includes(e.kungfuid)?[n("el-collapse",{model:{value:e.collapses,callback:function(t){e.collapses=t},expression:"collapses"}},e._l(e.data,(function(t,a){return n("el-collapse-item",{key:e.kungfuid+a,attrs:{title:e.num2zh(a),name:a}},[e._l(t,(function(t,a){var i,r,s;return[t?n("li",{key:a,staticClass:"u-item"},[n("span",{staticClass:"u-id"},[e._v("ID:"+e._s(t.SkillID))]),n("img",{staticClass:"u-pic",attrs:{title:"IconID:"+t.IconID,src:e.getIconURL(t.IconID)}}),n("div",{staticClass:"u-primary"},[n("a",{staticClass:"u-name",attrs:{href:e._f("skillLink")(t.SkillID),target:"_blank"}},[e._v(" "+e._s(t.Name)+" "),t.SkillName?n("em",[e._v("("+e._s(t.SkillName)+")")]):e._e()]),n("span",{staticClass:"u-content"},[null!==t&&void 0!==t&&null!==(i=t.parse)&&void 0!==i&&i.desc?[n("span",[e._v(e._s(e._f("filterRaw")(null===t||void 0===t||null===(r=t.parse)||void 0===r?void 0:r.desc)))]),n("br"),n("span",[e._v(e._s(e._f("filterRaw")(null===t||void 0===t||null===(s=t.parse)||void 0===s?void 0:s.talent_desc)))])]:[n("span",[e._v(e._s(e._f("filterRaw")(t.Desc)))])]],2),n("div",{staticClass:"u-remarks"},[n("span",{staticClass:"u-remark"},[e._v("Level : "+e._s(t.Level))]),n("span",{staticClass:"u-remark"},[e._v("Remark : "+e._s(t.Remark))]),t.HelpDesc?n("span",{staticClass:"u-remark"},[e._v("HelpDesc : "+e._s(t.HelpDesc))]):e._e(),t.SimpleDesc?n("span",{staticClass:"u-remark"},[e._v("SimpleDesc : "+e._s(t.SimpleDesc))]):e._e(),t.SpecialDesc?n("span",{staticClass:"u-remark"},[e._v("SpecialDesc : "+e._s(t.SpecialDesc))]):e._e()])])]):e._e()]}))],2)})),1)]:e._l(e.skills,(function(t,a){var i,r,s;return n("li",{key:a,staticClass:"u-item"},[t?n("span",{staticClass:"u-id"},[e._v("ID:"+e._s(t.SkillID))]):e._e(),n("img",{staticClass:"u-pic",attrs:{title:"IconID:"+t.IconID,src:e.getIconURL(t.IconID)}}),n("div",{staticClass:"u-primary"},[n("a",{staticClass:"u-name",attrs:{href:e._f("skillLink")(t.SkillID),target:"_blank"}},[e._v(" "+e._s(t.Name)+" "),t.SkillName?n("em",[e._v("("+e._s(t.SkillName)+")")]):e._e()]),n("span",{staticClass:"u-content"},[null!==t&&void 0!==t&&null!==(i=t.parse)&&void 0!==i&&i.desc?[n("span",[e._v(e._s(e._f("filterRaw")(null===t||void 0===t||null===(r=t.parse)||void 0===r?void 0:r.desc)))]),n("br"),n("span",[e._v(e._s(e._f("filterRaw")(null===t||void 0===t||null===(s=t.parse)||void 0===s?void 0:s.talent_desc)))])]:[n("span",[e._v(e._s(e._f("filterRaw")(t.Desc)))])]],2),n("div",{staticClass:"u-remarks"},[n("span",{staticClass:"u-remark"},[e._v("Level : "+e._s(t.Level))]),n("span",{staticClass:"u-remark"},[e._v("Remark : "+e._s(t.Remark))]),t.HelpDesc?n("span",{staticClass:"u-remark"},[e._v("HelpDesc : "+e._s(t.HelpDesc))]):e._e(),t.SimpleDesc?n("span",{staticClass:"u-remark"},[e._v("SimpleDesc : "+e._s(t.SimpleDesc))]):e._e(),t.SpecialDesc?n("span",{staticClass:"u-remark"},[e._v("SpecialDesc : "+e._s(t.SpecialDesc))]):e._e()])])])}))],2):n("el-alert",{staticClass:"m-archive-null",attrs:{title:"没有找到相关条目",type:"info",center:"","show-icon":""}})],1)])},i=[],r=n("c7eb"),s=n("b85c"),l=n("1da1"),u=n("2909"),c=n("5530"),o=(n("4de4"),n("7db0"),n("0481f"),n("a630"),n("a15b"),n("d81d"),n("14d9"),n("13d5"),n("4069"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("3ca3"),n("5319"),n("0643"),n("2382"),n("fffc"),n("a573"),n("9d4a"),n("793d")),f=n("46d4"),d=n("41cb"),p=n("65c2"),v=(d["h"].create({baseURL:p["__ossRoot"]}),d["h"].create({baseURL:p["__cdn"]}));function h(t){return Object(d["e"])().get("/skills",{params:t})}function b(){return m.apply(this,arguments)}function m(){return m=Object(l["a"])(Object(r["a"])().mark((function t(){var e,n,a=arguments;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"std",t.next=3,v.get("/data/qixue/".concat(e,"/talents.json"));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function k(t){return _.apply(this,arguments)}function _(){return _=Object(l["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["e"])().get("/api/node/talent-origin/list",{params:e}));case 1:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function g(t){return w.apply(this,arguments)}function w(){return w=Object(l["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d["e"])().get("/api/node/talent-origin/".concat(e)));case 1:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}var y=n("85e4"),j=n("f475"),D={name:"Raw",components:{AppLayout:o["a"]},props:[],data:function(){return{panel:{pasv:[],zhenfa:[],kungfus:{}},platform:"std",data:[],loading:!1,collapses:Array.from({length:12},(function(t,e){return e})),kungfuid:"pasv",search:"",wikis:{},talents:null,talent_wujie:null,talents2:null}},computed:{skills:function(){if(["talent","talent2"].includes(this.kungfuid))return this.data;if(["pasv","zhenfa"].includes(this.kungfuid))return this.panel[this.kungfuid].filter(Boolean);var t=this.kungfuid||this.kungfus[0];return this.panel.kungfus[t].filter(Boolean)},subtype:function(){return this.$route.query.subtype||"通用"},mountid:function(){var t;return(null===(t=f[this.subtype])||void 0===t?void 0:t["id"])||0},kungfus:function(){return Object.keys(this.panel.kungfus||{})},client:function(){return this.$store.state.client||"std"}},methods:{loadTalentSkills:function(){var t=this,e={std:this.talents,origin:this.talents2,wujie:this.talent_wujie};if(this.mountid&&this.talents&&this.talents2){var n=this.mountid,a="std"==this.client&&"wujie"==this.platform?e.wujie[n]:e[this.client][n],i=a,r=i.flat(3);this.loading=!0,h({ids:r.join(","),client:this.client}).then((function(e){var n=e.data;t.data=i.map((function(t){return t.map((function(t){var e=n.filter((function(e){return e.SkillID==t}));return e.length>1?e.filter((function(t){return 0!=t.Level})):e})).flat()}))})).finally((function(){t.loading=!1}))}},loadPanel:function(){var t=this,e="wujie"==this.platform?"wujie":this.$store.state.client;Object(j["a"])({mount_id:this.mountid,client:e}).then((function(n){var a=n.data.data;if("wujie"==e){if(t.mountid){var i,r=a.find((function(t){var e;return-1==t.kungfu_id&&Object.keys((null===(e=t.ui_tab)||void 0===e?void 0:e.tbExtraDescText)||{}).length}));r||(r=a.find((function(t){return-1==t.kungfu_id})));var s=Object.values((null===(i=r.ui_tab)||void 0===i?void 0:i.tbExtraDescText)||{}).pop()||"",l=Object(c["a"])({},r.skill);l.parse&&(l.parse.desc+="\n"+s),t.panel.pasv=[l],t.panel.zhenfa=[]}var o=a.filter((function(t){return t.kungfu_id>=0&&t.skill.IconID})).reduce((function(t,e){var n,a=e.kungfu_name;(t[a]||(t[a]=[]),Array.isArray(e.skill))?(n=t[a]).push.apply(n,Object(u["a"])(e.skill)):t[a].push(e.skill);return t}),{});t.panel.kungfus=o}else{if(t.mountid){var f,d,p,v=null===(f=a.find((function(t){return-1==t.column})))||void 0===f||null===(d=f.skill)||void 0===d?void 0:d.reduce((function(t,e){return t?t.Level<e.Level?e:t:e}));t.panel.pasv=[v];var h=null===(p=a.find((function(t){return-2==t.column})))||void 0===p?void 0:p.skill;t.panel.zhenfa=h}else t.panel.pasv=[],t.panel.zhenfa=[];var b=a.filter((function(t){return t.kungfu_id})).reduce((function(t,e){var n,a=e.kungfu_name;(t[a]||(t[a]=[]),Array.isArray(e.skill))?(n=t[a]).push.apply(n,Object(u["a"])(e.skill)):t[a].push(e.skill);return t}),{});t.panel.kungfus=b}t.kungfuid=t.mountid?"pasv":t.kungfus[0]}))},num2zh:function(t){var e=["一","二","三","四","五","六","七","八","九","十","十一","十二"];return"第".concat(e[t],"重")},getIconURL:function(t){var e="origin"===this.client?p["__iconPath"]+"origin_icon/"+t+".png":p["__iconPath"]+"icon/"+t+".png";return e},loadTalent2:function(){return Object(l["a"])(Object(r["a"])().mark((function t(){var e,n,a,i,l,u,c,o,f,d,p,v,h,b,m;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k({per:1});case 2:if(a=t.sent,i=null===(e=a.data.data.list)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.talent_version,i){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,g(i);case 8:l=t.sent,u=l.data.data,c=u.detail,o=u.mount,f={},d=Object(s["a"])(o),t.prev=12,d.s();case 14:if((p=d.n()).done){t.next=23;break}if(v=p.value,h=v.mount_id,b=v.first,b&&c[b]){t.next=19;break}return t.abrupt("continue",21);case 19:m=c[b].map((function(t){return t.filter(Boolean).map((function(t){return t.id}))})),f[h]=m;case 21:t.next=14;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](12),d.e(t.t0);case 28:return t.prev=28,d.f(),t.finish(28);case 31:return t.abrupt("return",f);case 32:case"end":return t.stop()}}),t,null,[[12,25,28,31]])})))()}},filters:{filterRaw:function(t){return t=t&&t.replace(/\\n/g,"\n"),t=t&&t.replace(/(\<TALENT.*?\>)/g,"\n$1"),t=t&&t.replace(/(\<EnchantID.*?\>)/g,"\n$1"),t},skillLink:function(t){return Object(y["i"])("skill",t)}},watch:{platform:{handler:function(){this.loadPanel(),this.loadTalentSkills()}},subtype:{immediate:!0,handler:function(){this.kungfuid="pasv",this.loadPanel(),this.loadTalentSkills()}}},mounted:function(){var t=Object(l["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:return this.talents=t.sent,t.next=5,this.loadTalent2();case 5:return this.talents2=t.sent,t.next=8,b("wujie");case 8:this.talent_wujie=t.sent,this.loadTalentSkills();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},O=D,x=(n("5809"),n("2877")),C=Object(x["a"])(O,a,i,!1,null,null,null);e["default"]=C.exports},f475:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var a=n("41cb"),i=Object(a["e"])();function r(t){return i.get("/bps/recipe",{params:t})}function s(t){return i.get("/api/node/v2/kungfu/panel",{params:t})}},f945:function(t,e,n){"use strict";n("b746")}}]);
//# sourceMappingURL=chunk-685f54ab.cdd21c53.js.map